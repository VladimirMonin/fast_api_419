# üîë –®–ø–∞—Ä–≥–∞–ª–∫–∞: –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Celery –¥–ª—è Windows

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Celery (tasks/celery_app.py)

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```python
celery_app = Celery(
    "tasks",                                                    # –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    broker=f"redis://{settings.REDIS_HOST}:{settings.REDIS_PORT}/0",   # –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π
    backend=f"redis://{settings.REDIS_HOST}:{settings.REDIS_PORT}/0",  # Backend —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
)
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|----------|----------|------------|
| `"tasks"` | –ò–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ –ª–æ–≥–∞—Ö |
| `broker` | Redis URL | –ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∑–∞–¥–∞—á–∏ |
| `backend` | Redis URL | –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã |

---

### 2. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è Windows

```python
celery_app.conf.update(
    worker_concurrency=1,                    # –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    task_acks_late=True,                     # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    worker_pool="solo",                      # ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è Windows
    broker_connection_retry_on_startup=True, # –ü–æ–≤—Ç–æ—Ä—è—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
)
```

#### ‚úÖ `worker_pool="solo"` ‚ö†Ô∏è **–°–ê–ú–´–ô –í–ê–ñ–ù–´–ô**

- **–ß—Ç–æ**: –¢–∏–ø –ø—É–ª–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **–ü–æ—á–µ–º—É**: Windows –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `fork()` (Unix-—Å—Ç–∏–ª—å)
- **–ë–µ–∑ —ç—Ç–æ–≥–æ**: `OSError: [WinError 6] –ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä`
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã**: `"threads"` –∏–ª–∏ `"gevent"` (—Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏)

#### ‚úÖ `worker_concurrency=1`

- **–ß—Ç–æ**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- **–ü–æ—á–µ–º—É**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è Windows, –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- **–ú–æ–∂–Ω–æ**: –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 2-4 –¥–ª—è `pool="threads"`

#### ‚úÖ `task_acks_late=True`

- **–ß—Ç–æ**: –ö–æ–≥–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –∑–∞–¥–∞—á—É
- **–ü–æ—á–µ–º—É**: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –∑–∞–¥–∞—á –ø—Ä–∏ —Å–±–æ–µ worker
- **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ü–û–°–õ–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–µ –¥–æ

#### ‚úÖ `broker_connection_retry_on_startup=True`

- **–ß—Ç–æ**: –ü–æ–≤—Ç–æ—Ä—è—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–ü–æ—á–µ–º—É**: Redis –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ø–æ–∑–∂–µ Celery
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Worker –Ω–µ –ø–∞–¥–∞–µ—Ç, –∞ –∂–¥—ë—Ç Redis

---

## üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –∑–∞–¥–∞—á–∏

```python
@celery_app.task(
    bind=True,                                      # –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å self
    max_retries=3,                                  # –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏
    name="tasks.notifications.send_tg_notification" # –Ø–≤–Ω–æ–µ –∏–º—è –∑–∞–¥–∞—á–∏
)
def send_tg_notification(self, product_name: str, product_id: int):
    # ...
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|------------|
| `bind=True` | –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `self` | –î–æ—Å—Ç—É–ø –∫ `self.retry()`, `self.request.id` |
| `max_retries=3` | 3 –ø–æ–ø—ã—Ç–∫–∏ | –ü–æ—Å–ª–µ 3 –æ—à–∏–±–æ–∫ ‚Üí FAILED |
| `name="..."` | –Ø–≤–Ω–æ–µ –∏–º—è | Celery –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–¥–∞—á—É –ø–æ —ç—Ç–æ–º—É –∏–º–µ–Ω–∏ |

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞

### Windows PowerShell

```powershell
# 1. Redis Server (—Ç–µ—Ä–º–∏–Ω–∞–ª 1)
redis-server

# 2. FastAPI Server (—Ç–µ—Ä–º–∏–Ω–∞–ª 2)
.\venv\Scripts\Activate.ps1
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# 3. Celery Worker (—Ç–µ—Ä–º–∏–Ω–∞–ª 3) ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å --pool=solo
.\venv\Scripts\Activate.ps1
celery -A tasks.celery_app worker --pool=solo -l info
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥—ã Celery

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|------------|
| `-A tasks.celery_app` | –ú–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | –ì–¥–µ –∏—Å–∫–∞—Ç—å `celery_app` |
| `worker` | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã | –ó–∞–ø—É—Å—Ç–∏—Ç—å worker (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–¥–∞—á) |
| `--pool=solo` | ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û** | –†–µ–∂–∏–º –¥–ª—è Windows |
| `-l info` | –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–æ–≤ | info / debug / warning / error |

---

## üîß –ú–µ—Ç–æ–¥—ã –≤—ã–∑–æ–≤–∞ –∑–∞–¥–∞—á–∏

### 1. `.delay()` - –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (–∏—Å–ø–æ–ª—å–∑—É–µ–º –º—ã)

```python
task = send_tg_notification.delay(product_name="–ü–ª—é–º–±—É—Å", product_id=21)
```

- **–ß—Ç–æ**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: –û–±—ä–µ–∫—Ç `AsyncResult` —Å ID –∑–∞–¥–∞—á–∏
- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–¥**: ‚ùå –ù–µ—Ç (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)

### 2. `.apply_async()` - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

```python
task = send_tg_notification.apply_async(
    kwargs={"product_name": "–ü–ª—é–º–±—É—Å", "product_id": 21},
    countdown=10,      # –í—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    expires=3600,      # –ó–∞–¥–∞—á–∞ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç —á–µ—Ä–µ–∑ 1 —á–∞—Å
)
```

- **–ß—Ç–æ**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ù—É–∂–Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç

### 3. `.apply()` - –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚ö†Ô∏è

```python
result = send_tg_notification.apply(
    kwargs={"product_name": "–ü–ª—é–º–±—É—Å", "product_id": 21}
)
```

- **–ß—Ç–æ**: –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á—É –ù–ï–ú–ï–î–õ–ï–ù–ù–û –≤ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
- **–ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–¥**: ‚úÖ –î–∞ (–∂–¥—ë—Ç 30 —Å–µ–∫—É–Ω–¥!)
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîç –ú–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞—á–∏

```python
task = send_tg_notification.delay(product_name="–ü–ª—é–º–±—É—Å", product_id=21)

# ID –∑–∞–¥–∞—á–∏ (UUID)
print(task.id)  # "20dc413f-756e-45bd-a874-165fbffc1089"

# –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
print(task.state)  # PENDING / STARTED / SUCCESS / FAILURE / RETRY

# –ì–æ—Ç–æ–≤–∞ –ª–∏ –∑–∞–¥–∞—á–∞
print(task.ready())  # False - –µ—â—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è / True - –∑–∞–≤–µ—Ä—à–µ–Ω–∞

# –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ë–õ–û–ö–ò–†–£–ï–¢ –ö–û–î –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!)
result = task.get(timeout=60)  # –ñ–¥–∞—Ç—å –º–∞–∫—Å–∏–º—É–º 60 —Å–µ–∫—É–Ω–¥
print(result)  # {"status": "success", "message": "..."}

# –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å None)
result = task.result
```

---

## üõ†Ô∏è CLI –∫–æ–º–∞–Ω–¥—ã Celery

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```powershell
# –°–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
celery -A tasks.celery_app inspect registered

# –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
celery -A tasks.celery_app inspect active

# –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
celery -A tasks.celery_app inspect scheduled

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ worker
celery -A tasks.celery_app inspect stats

# –ü—Ä–æ–≤–µ—Ä–∫–∞ worker (ping)
celery -A tasks.celery_app inspect ping
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é

```powershell
# –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
celery -A tasks.celery_app purge

# –û—Ç–æ–∑–≤–∞—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID
celery -A tasks.celery_app revoke <task-id>

# –û—Ç–æ–∑–≤–∞—Ç—å —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–∑ –æ—á–µ—Ä–µ–¥–∏
celery -A tasks.celery_app revoke <task-id> --terminate
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis

```powershell
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis CLI
redis-cli

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
redis-cli ping
# –û—Ç–≤–µ—Ç: PONG

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–ª—é—á–∏
redis-cli KEYS "*"

# –î–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á
redis-cli LLEN celery

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥–∏
redis-cli LRANGE celery 0 -1

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–¥–∞—á–∏
redis-cli GET celery-task-meta-<task-id>
```

---

## ‚ö†Ô∏è –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ 1: "OSError: [WinError 6] –ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä"

```
[ERROR] OSError: [WinError 6] –ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
```

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —É–∫–∞–∑–∞–Ω `worker_pool="solo"` –¥–ª—è Windows

**–†–µ—à–µ–Ω–∏–µ**:

```python
# –í tasks/celery_app.py:
celery_app.conf.update(worker_pool="solo")

# –ò–ª–∏ –≤ –∫–æ–º–∞–Ω–¥–µ:
celery -A tasks.celery_app worker --pool=solo -l info
```

---

### –û—à–∏–±–∫–∞ 2: "Received unregistered task"

```
[ERROR] Received unregistered task of type 'tasks.notifications.send_tg_notification'
```

**–ü—Ä–∏—á–∏–Ω–∞**: Celery Worker –Ω–µ –∑–Ω–∞–µ—Ç –æ –∑–∞–¥–∞—á–µ

**–†–µ—à–µ–Ω–∏–µ**:

```python
# –í tasks/celery_app.py –¥–æ–±–∞–≤–∏—Ç—å:
from tasks import notifications  # noqa: E402

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:
celery -A tasks.celery_app inspect registered
```

---

### –û—à–∏–±–∫–∞ 3: "Consumer: Cannot connect to redis"

```
[ERROR] Consumer: Cannot connect to redis://localhost:6379/0
```

**–ü—Ä–∏—á–∏–Ω–∞**: Redis –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ**:

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis:
redis-cli ping

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis:
redis-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env:
REDIS_HOST=localhost
REDIS_PORT=6379
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] Redis –∑–∞–ø—É—â–µ–Ω: `redis-cli ping` ‚Üí `PONG`
- [ ] –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `pip install -r requirements.txt`
- [ ] –§–∞–π–ª `.env` —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] –í `tasks/celery_app.py` –µ—Å—Ç—å `worker_pool="solo"`
- [ ] –í `tasks/celery_app.py` –µ—Å—Ç—å `from tasks import notifications`
- [ ] Celery –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--pool=solo`

---

## üéØ –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: –ß—Ç–æ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

```
tasks/celery_app.py:
‚îú‚îÄ‚îÄ Celery(...)                              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ celery_app.conf.update(...)              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ from tasks import notifications          # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á

tasks/notifications.py:
‚îú‚îÄ‚îÄ @celery_app.task(...)                    # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ def send_tg_notification(self, ...)      # –§—É–Ω–∫—Ü–∏—è –∑–∞–¥–∞—á–∏
‚îî‚îÄ‚îÄ self.retry(exc=exc, countdown=5)         # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞

routes/products.py:
‚îî‚îÄ‚îÄ send_tg_notification.delay(...)          # –í—ã–∑–æ–≤ –∑–∞–¥–∞—á–∏

config.py:
‚îî‚îÄ‚îÄ Settings(BaseSettings)                   # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ .env

.env:
‚îú‚îÄ‚îÄ REDIS_HOST=localhost
‚îú‚îÄ‚îÄ REDIS_PORT=6379
‚îî‚îÄ‚îÄ TG_BOT_KEY=...
```

---

## üí° Pro Tips

1. **–í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ –ø–æ—Ä—è–¥–∫–µ**: Redis ‚Üí FastAPI ‚Üí Celery
2. **–õ–æ–≥–∏ Celery** –ø–æ–∫–∞–∂—É—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–¥–∞—á–∞–º–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `task.get(timeout=10)`** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–∂–¥—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
4. **`--pool=solo` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –Ω–∞ Windows, –∏–Ω–∞—á–µ –∫—Ä—ç—à
5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ Celery** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∑–∞–¥–∞—á (FastAPI –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–∞–º)

---

**–°–æ–∑–¥–∞–Ω–æ**: 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç**: Python419 - FastAPI + Celery + Redis
